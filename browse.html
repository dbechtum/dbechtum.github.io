<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poster Space</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/browse.css">
    <link rel="stylesheet" href="/assets/css/product.css">

    <!-- distribution version for vue -->
    <!-- <script src="/node_modules/vue/dist/vue.min.js"></script> -->
    <!-- dev version for vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
</head>
</ul>

<body class="d-flex flex-column min-vh-100">
    <main id="app">
        <div class="product shadow">
            <div class="productContainer">
                <div class="productCloseButton" @click="hideProduct()"
                    style="cursor: pointer;">
                    <p>&#10005;</p>
                </div>
                <div class="product-image">
                    <div class="image">
                        <div v-show="megaDeal" class="sale">-40%</div>
                        <div v-show="deal" class="sale">-20%</div>
                        <img v-bind:src="image">
                    </div>
                </div>
                <div class="product-info">
                    <h1>{{ productTitle }}</h1>
                    <h2>{{ stock }}</h2>
                    <div>
                        <button type="button" v-for="(orientation, index) in orientations"
                            :key="index" @click='updateOrientation(index)'>
                            {{ orientation }}
                        </button>
                    </div>
                    <div>
                        <button v-for="(size, index) in sizes" :key="size"
                            @click='updateSize(index)' @click='updateSize(index)'>{{
                            size
                            }}</button>
                    </div>
                    <div class="price">Price:</div>
                    <div v-show="originalPrice!== 0" class="price"
                        style="text-decoration: line-through; color: gray;">
                        ${{ originalPrice }},-</div>
                    <div class="price">${{ price }},-</div>
                    <button v-on:click="addToCart">Add to Cart
                    </button>
                </div>
            </div>
        </div>
        <div class="productBackground" @click="hideProduct()"></div>

        <header id="header"></header>
        </header>
        <header id="header">
            <nav class="navbar navbar-expand-md navbar-light bg-light pt-0 back">
                <div class="container border-bottom ">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarCatNavDropdown"
                        aria-controls="navbarCatNavDropdown" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse col-12 col-md-auto mb-2 justify-content-center mb-md-0"
                        id="navbarCatNavDropdown">
                        <ul id="browsePopulateCategories"
                            class="navbar-nav container align-items-md-center">

                            <div is="posterCategory"
                                v-for="(category, index) in categories" v-bind:key="index"
                                v-bind:category="category">
                            </div>

                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <div class="container pt-3">
            <div class="row row-cols-1 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 g-3">

                <div is="poster" v-for="poster in posters" v-bind:key="poster.id"
                    v-bind:title="poster.title" v-bind:category="poster.category"
                    v-bind:id="poster.id" v-bind:stock="poster.stock"
                    v-bind:image_path="image_path"
                    v-bind:image_display_as="image_display_as"
                    v-bind:image_extension="image_extension"
                    @emit_update_product="updateProduct($event)">
                </div>

            </div>
        </div>
    </main>
    <footer id="footer" class="footer container-fluid px-0 mx-0 mt-auto">
    </footer>

    <!-- ============================================================ SCRIPTS ============================================================ -->
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script>
        $(function () {
            $("#header").load("header.html");
            $("#footer").load("footer.html");
        });
    </script>
    <script src="/assets/js/index.js"></script>
    <script src="/assets/js/app.js"></script>
    <script src="/assets/js/browse.js"></script>


</body>

</html>